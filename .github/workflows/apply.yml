name: Terraform Apply
on: workflow_dispatch
jobs:
#  Terraform-Init:
#    runs-on: self-hosted
#    steps:
#      - name: Check out repository code
#        uses: actions/checkout@v4
#      - name: Terraform init
#        run: |
#          terrafrom init -backend-config=env-dev/state.tfvars





#  Terraform-Plan:
#    runs-on: self-hosted
#    steps:
#      - name: Check out repository code
#        uses: actions/checkout@v4
#      - name: Terraform plan
#        run: |
#          terraform plan  -var-file=env-dev/main.tfvars


  Terraform-Init:
    runs-on: self-hosted
    steps:
      - name: Check out repository code
        uses: actions/checkout@v4
      - name: Terraform Apply
        run: |
          terrafrom init -backend-config=env-dev/state.tfvars
          terraform apply  -var-file=env-dev/main.tfvars